<html>
<head>
<title>kernel/arch/i386/init/init.s</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.5'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/47.html'>kernel</a>/<a href='../files/48.html'>arch</a>/<a href='../files/49.html'>i386</a>/<a href='../files/52.html'>init</a>/init.s</h2>
<i><font color='green'>/* [&lt;][&gt;][^][v][top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<pre>
<a name='L1'><i><font color='green'>/*****************************************************************************</font></i>
<a name='L2'><i><font color='green'> * Micron System V3 - I386 Architecture Driver</font></i>
<a name='L3'><i><font color='green'> * Copyright (C) 2007, Micron System Team</font></i>
<a name='L4'><i><font color='green'> * Copyright (C) 2007, Martin Tang</font></i>
<a name='L5'><i><font color='green'> * PROTECTED UNDER MICRON SYSTEM PUBLIC LICENSE AGREEMENT.</font></i>
<a name='L6'><i><font color='green'> *****************************************************************************/</font></i>
<a name='L7'>
<a name='L8'>.global _start; _start:
<a name='L9'>.extern kmain
<a name='L10'>.extern stack
<a name='L11'>.extern modinit
<a name='L12'>.extern i386_gdt_init
<a name='L13'>.extern i386_idt_init
<a name='L14'>.extern i386_irq_init
<a name='L15'>.extern i386_mem_size
<a name='L16'>.extern i386_rtc_init
<a name='L17'>.extern i386_page_init
<a name='L18'>        movl $stack, %esp       <i><font color='green'>/* setup stack for kernel */</font></i>
<a name='L19'>        call i386_idt_init      <i><font color='green'>/* install new gdt managed by kernel */</font></i>
<a name='L20'>        call i386_irq_init      <i><font color='green'>/* initialize IRQ */</font></i>
<a name='L21'>        call i386_mem_size      <i><font color='green'>/* get memory size info */</font></i>
<a name='L22'>        call i386_rtc_init      <i><font color='green'>/* initialize RTC */</font></i>
<a name='L23'>        call i386_gdt_init      <i><font color='green'>/* install new gdt managed by kernel */</font></i>
<a name='L24'>        call i386_page_init     <i><font color='green'>/* initialize RTC */</font></i>
<a name='L25'>        call modinit            <i><font color='green'>/* initialize all modules */</font></i>
<a name='L26'>        call kmain
<a name='L27'>halt:   hlt                     <i><font color='green'>/* kmain function should never return */</font></i>
<a name='L28'>        jmp halt
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;][^][v]<a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
