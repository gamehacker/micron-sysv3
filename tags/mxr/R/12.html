<html>
<head>
<title>MFS_BLKSIZE</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.5'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<pre>
<a href='../S/42.html#L73'>MFS_BLKSIZE</a>        73 mkmfs/mfs.c    	mfs_data.m_blocks[0] = malloc(MFS_BLKSIZE);	 // the boot block
<a href='../S/42.html#L74'>MFS_BLKSIZE</a>        74 mkmfs/mfs.c    	mfs_data.m_blocks[1] = malloc(MFS_BLKSIZE);	 // the super block
<a href='../S/42.html#L75'>MFS_BLKSIZE</a>        75 mkmfs/mfs.c    	mfs_data.m_blocks[2] = malloc(MFS_BLKSIZE*NKBLK);// the kernel block
<a href='../S/42.html#L76'>MFS_BLKSIZE</a>        76 mkmfs/mfs.c    	mfs_data.m_blocks[3] = malloc(MFS_BLKSIZE*NIBMP);// the inode bitmap blk
<a href='../S/42.html#L77'>MFS_BLKSIZE</a>        77 mkmfs/mfs.c    	mfs_data.m_blocks[4] = malloc(MFS_BLKSIZE*NDBMP);// the data bitmap blk
<a href='../S/42.html#L78'>MFS_BLKSIZE</a>        78 mkmfs/mfs.c    	mfs_data.m_blocks[5] = malloc(MFS_BLKSIZE*NIBLK);// the inode blk
<a href='../S/42.html#L79'>MFS_BLKSIZE</a>        79 mkmfs/mfs.c    	mfs_data.m_blocks[6] = malloc(MFS_BLKSIZE*NDBLK);// the data blk
<a href='../S/42.html#L80'>MFS_BLKSIZE</a>        80 mkmfs/mfs.c    	memset(mfs_data.m_blocks[0], 0, MFS_BLKSIZE);
<a href='../S/42.html#L81'>MFS_BLKSIZE</a>        81 mkmfs/mfs.c    	memset(mfs_data.m_blocks[1], 0, MFS_BLKSIZE);
<a href='../S/42.html#L82'>MFS_BLKSIZE</a>        82 mkmfs/mfs.c    	memset(mfs_data.m_blocks[2], 0, MFS_BLKSIZE*NKBLK);
<a href='../S/42.html#L83'>MFS_BLKSIZE</a>        83 mkmfs/mfs.c    	memset(mfs_data.m_blocks[3], 0, MFS_BLKSIZE*NIBMP);
<a href='../S/42.html#L84'>MFS_BLKSIZE</a>        84 mkmfs/mfs.c    	memset(mfs_data.m_blocks[4], 0, MFS_BLKSIZE*NDBMP);
<a href='../S/42.html#L85'>MFS_BLKSIZE</a>        85 mkmfs/mfs.c    	memset(mfs_data.m_blocks[5], 0, MFS_BLKSIZE*NIBLK);
<a href='../S/42.html#L86'>MFS_BLKSIZE</a>        86 mkmfs/mfs.c    	memset(mfs_data.m_blocks[6], 0, MFS_BLKSIZE*NDBLK);
<a href='../S/42.html#L105'>MFS_BLKSIZE</a>       105 mkmfs/mfs.c    		printf("add=0x%-8x\n", 1*MFS_BLKSIZE);
<a href='../S/42.html#L107'>MFS_BLKSIZE</a>       107 mkmfs/mfs.c    		printf("add=0x%-8x\n", 2*MFS_BLKSIZE);
<a href='../S/42.html#L109'>MFS_BLKSIZE</a>       109 mkmfs/mfs.c    		printf("add=0x%-8x\n", sblk-&gt;s_ibmp*MFS_BLKSIZE);
<a href='../S/42.html#L111'>MFS_BLKSIZE</a>       111 mkmfs/mfs.c    		printf("add=0x%-8x\n", sblk-&gt;s_dbmp*MFS_BLKSIZE);
<a href='../S/42.html#L113'>MFS_BLKSIZE</a>       113 mkmfs/mfs.c    		printf("add=0x%-8x\n", sblk-&gt;s_iblk*MFS_BLKSIZE);
<a href='../S/42.html#L115'>MFS_BLKSIZE</a>       115 mkmfs/mfs.c    		printf("add=0x%-8x\n", sblk-&gt;s_dblk*MFS_BLKSIZE);
<a href='../S/42.html#L137'>MFS_BLKSIZE</a>       137 mkmfs/mfs.c    	write(out, mfs_data.m_blocks[0], MFS_BLKSIZE);
<a href='../S/42.html#L138'>MFS_BLKSIZE</a>       138 mkmfs/mfs.c    	write(out, mfs_data.m_blocks[1], MFS_BLKSIZE);
<a href='../S/42.html#L139'>MFS_BLKSIZE</a>       139 mkmfs/mfs.c    	write(out, mfs_data.m_blocks[2], MFS_BLKSIZE*NKBLK);
<a href='../S/42.html#L140'>MFS_BLKSIZE</a>       140 mkmfs/mfs.c    	write(out, mfs_data.m_blocks[3], MFS_BLKSIZE*NIBMP);
<a href='../S/42.html#L141'>MFS_BLKSIZE</a>       141 mkmfs/mfs.c    	write(out, mfs_data.m_blocks[4], MFS_BLKSIZE*NDBMP);
<a href='../S/42.html#L142'>MFS_BLKSIZE</a>       142 mkmfs/mfs.c    	write(out, mfs_data.m_blocks[5], MFS_BLKSIZE*NIBLK);
<a href='../S/42.html#L143'>MFS_BLKSIZE</a>       143 mkmfs/mfs.c    	write(out, mfs_data.m_blocks[6], MFS_BLKSIZE*NDBLK);
<a href='../S/42.html#L172'>MFS_BLKSIZE</a>       172 mkmfs/mfs.c    	if(fsize&gt;NKBLK*MFS_BLKSIZE) {
<a href='../S/42.html#L241'>MFS_BLKSIZE</a>       241 mkmfs/mfs.c    	indexi=mfs_seekbmp(mfs_data.m_blocks[3], 0, MFS_BLKSIZE*8);
<a href='../S/42.html#L294'>MFS_BLKSIZE</a>       294 mkmfs/mfs.c    	indexi = mfs_seekbmp(mfs_data.m_blocks[3], 0, MFS_BLKSIZE*NIBMP*8);
<a href='../S/42.html#L319'>MFS_BLKSIZE</a>       319 mkmfs/mfs.c    	dblkr = size/MFS_BLKSIZE;
<a href='../S/42.html#L320'>MFS_BLKSIZE</a>       320 mkmfs/mfs.c    	if(size % MFS_BLKSIZE)
<a href='../S/42.html#L329'>MFS_BLKSIZE</a>       329 mkmfs/mfs.c    		dblki=mfs_seekbmp(mfs_data.m_blocks[4], 0, MFS_BLKSIZE*NDBLK*8);
<a href='../S/42.html#L341'>MFS_BLKSIZE</a>       341 mkmfs/mfs.c    	memcpy(&amp;mfs_data.m_blocks[6][iblk[indexi].i_blk * MFS_BLKSIZE], \
</pre>
</body>
</html>
